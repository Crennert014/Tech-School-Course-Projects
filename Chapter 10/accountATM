package Chapter10;

import java.util.Scanner;

public class AccountsATM {

    private static final int[] IDS = {1122, 2122, 3122, 4122, 5122, 6122, 7122, 8122, 9122};
    private static double balance = 100.00;

    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);

        while (true) {
            // Login process
            int accountID = -1;
            boolean found = false;
            while (!found) {
                System.out.print("Please enter account ID number: ");
                accountID = input.nextInt();
                for (int id : IDS) {
                    if (accountID == id) {
                        found = true;
                        break;
                    }
                }
                if (!found) {
                    System.out.println("I'm sorry, the account ID number is incorrect. Please re-enter account ID number.");
                }
            }

            System.out.println("Welcome member number: " + accountID);

            // Menu loop
            boolean running = true;
            while (running) {
                System.out.println("\nPlease enter a 1 to view balance, enter a 2 to withdraw, enter a 3 to deposit money, enter a 4 to exit: ");
                int entry = input.nextInt();
                switch (entry) {
                    case 1:
                        System.out.printf("Your balance is: $%.2f\n", balance);
                        break;
                    case 2:
                        withdraw(input);
                        break;
                    case 3:
                        deposit(input);
                        break;
                    case 4:
                        System.out.println("Thanks for using ChaseR Bank\n");
                        running = false;
                        break;
                    default:
                        System.out.println("Invalid input. Please enter 1, 2, 3, or 4.");
                }
            }
        }
    }

    public static void withdraw(Scanner input) {
        System.out.print("How much would you like to withdraw? ");
        double amount = input.nextDouble();
        if (amount > balance) {
            System.out.println("The amount exceeds your account balance. Please enter an amount equal to or less than $" + balance);
        } else if (amount <= 0) {
            System.out.println("Withdrawal amount must be greater than 0.");
        } else {
            balance -= amount;
            System.out.printf("After your withdrawal, your new balance is: $%.2f\n", balance);
        }
    }

    public static void deposit(Scanner input) {
        System.out.print("Please enter the amount to deposit: ");
        double amount = input.nextDouble();
        if (amount <= 0) {
            System.out.println("Deposit amount must be greater than 0.");
        } else {
            balance += amount;
            System.out.printf("After your deposit, your new balance is: $%.2f\n", balance);
        }
    }
}
