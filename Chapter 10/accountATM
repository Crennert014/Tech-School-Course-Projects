package Chapter10;
    
    import java.util.Scanner;

    public class AccountsATM {

        private static final int[] IDS = {1122, 1122, 2122, 3122, 4122, 5122, 6122, 7122, 8122, 9122};
        private static double balance = 100.00;
       
    
        public static void main(String[] args) {
            Scanner input = new Scanner(System.in);
    
            int accountID = -1;
            boolean found = false;
            while (!found) {
                System.out.print("Please enter account ID number: ");
                accountID = input.nextInt();
                for (int id : IDS) {
                    if (accountID == id) {
                        found = true;
                        break;
                    }
                }
                if (!found) {
                    System.out.println("I'm sorry, the account ID number is incorrect. Please reenter account ID number");
                }
            }
    
            System.out.println("Welcome member number: " + accountID);
            boolean running = true;
            while (running) {
                System.out.println("\nPlease enter a 1 to view balance, enter a 2 to withdraw, enter a 3 to deposit money, enter a 4 to exit: ");
                int entry = input.nextInt();
                switch (entry) {
                    case 1:
                        System.out.printf("Your balance is: %.2f\n", balance);
                        break;
                    case 2:
                        withdraw(input);
                        break;
                    case 3:
                        deposit(input, balance);
                        break;
                    case 4:
                        System.out.println("Exiting program. Thank you for using ChaseR Bank!");
                        running = false;
                        break;
                    default:
                        System.out.println("I'm sorry, please enter a 1, 2, 3, or 4");
                        withdraw(input);
                        deposit(input, balance);
                }
            }
            input.close();
        }
    
        public static void withdraw(Scanner input) {
            System.out.printf(" How much would you like to withdraw? ");
            double amount = input.nextDouble();
            if (amount > balance) {
                System.out.println("The amount entered exceeds your account balance. Please enter an amount equal or less than $" + balance);
            } else if (amount <= 0) {
                System.out.println("Withdrawal amount must be between 20 and " + balance);
            } else {
                balance -= amount;
                System.out.printf("After your withdraw, you know have: %.2f\n ", balance);
            }
        }
    
        public static void deposit(Scanner input, double newBalance) {
            System.out.print("Please enter the amount of cash to be deposited: ");
            double amount = input.nextDouble();
            newBalance = 0;
            if (amount <= 0) {
                System.out.println("Deposit amount must be greater than 0 ");
            } else {
                balance += amount;
                amount = newBalance;
                newBalance = balance;
                System.out.printf("After your deposit your total account balance is: $%.2f\n $", balance);
            }
        }
    }

